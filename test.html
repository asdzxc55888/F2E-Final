<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>思汗牧場 會員登入</title>
    <script src="https://www.gstatic.com/firebasejs/5.0.4/firebase.js"></script>
</head>

<body>
    <h1>Hello
        <span id="idName"></span>
    </h1>
</body>
<script>
    var config = {
        apiKey: "AIzaSyBinw5cvb2cBZKTVwz_GljdBOZdkJnoIqw",
        authDomain: "f2e-final.firebaseapp.com",
        databaseURL: "https://f2e-final.firebaseio.com",
        projectId: "f2e-final",
        storageBucket: "f2e-final.appspot.com",
        messagingSenderId: "493398495425"
    };
    firebase.initializeApp(config);

    function login() {
        function newlogin(user) {
            if (user) {
                app(user);
            } else {
                var provider = new firebase.auth.GoogleAuthProvider();
                firebase.auth().signInWithRedirect(provider);
            }
        }
        firebase.auth().onAuthStateChanged(newlogin);
    }

    function app(user) {
        document.getElementById("#idName").innerHTML = user.displayName;
    }

    window.onload = login;
</script>

</html>